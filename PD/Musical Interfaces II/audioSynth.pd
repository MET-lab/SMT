#N canvas 295 22 974 682 10;
#X obj 392 -196 sig~;
#X obj 520 -138 osc~;
#X obj 392 -11 +~;
#X obj 520 -104 *~;
#X obj 520 -197 expr $f1/2;
#X floatatom 531 -175 5 0 0 0 - - -;
#X floatatom 651 -179 5 0 0 0 - - -;
#N canvas 457 57 837 757 shapewave 0;
#X obj 60 60 inlet~ freqency;
#X obj 50 349 expr~ $v1*(1-$f3) + $v2*$f3;
#X obj 56 572 outlet~;
#X obj 309 65 inlet waveshape;
#X text 436 124 comment;
#X text 351 44 0-1;
#X obj 432 96 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 12700 1;
#X text 412 94 0;
#X text 501 95 1;
#X obj 42 185 osc~;
#N canvas 0 22 551 348 SquareWave 0;
#X obj 78 60 inlet~;
#X obj 81 194 clip~ -1 1;
#X obj 81 173 *~ 5;
#X obj 86 238 outlet~;
#X obj 82 116 osc~;
#X text 238 120 sing wave moving -1 \, 1;
#X text 237 175 make it move -5 \, 5;
#X text 235 192 clip it back to -1 \, 1;
#X text 241 209 ...so it will have flat tops....SQUARE;
#X connect 0 0 4 0;
#X connect 1 0 3 0;
#X connect 2 0 1 0;
#X connect 4 0 2 0;
#X restore 130 184 pd SquareWave;
#X text 60 160 pure;
#X text 175 163 buzzy;
#X text 289 355 crossFader to mix between "pure" and "buzzy" tone;
#X connect 0 0 9 0;
#X connect 0 0 10 0;
#X connect 1 0 2 0;
#X connect 3 0 1 2;
#X connect 3 0 6 0;
#X connect 9 0 1 0;
#X connect 10 0 1 1;
#X restore 392 31 pd shapewave;
#X obj 642 -200 expr $f1/2 + 1;
#X obj 667 77 r volume;
#X obj 656 230 *~;
#X obj 655 368 outlet~;
#X obj 520 -244 r fmModulatorHz;
#X text 609 -26 cutoff of resonant bandpass filter in HZ;
#X obj 392 -243 r fmCarrierHz;
#X obj 609 -9 r filterCutoffHz;
#X floatatom 526 -219 5 0 0 0 - - -;
#X obj 461 -11 r oscWaveshape;
#X floatatom 474 12 5 0 0 0 - - -;
#X floatatom 398 -220 5 0 0 0 - - -;
#X floatatom 657 -221 5 0 0 0 - - -;
#X floatatom 704 172 5 0 0 0 - - -;
#X floatatom 621 24 5 0 0 0 - - -;
#X text 650 61 volume = 0...1;
#X obj 496 122 lop~ 3;
#X obj 696 143 *;
#X obj 751 71 r onoff;
#X floatatom 765 107 5 0 0 0 - - -;
#X obj 728 100 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 677 47 Volume;
#X text 396 -263 Pitch Center;
#X text 507 -264 Modulation Speed;
#X text 616 -41 Filter Range;
#X text 484 -42 Waveshape;
#X text 756 56 on/off;
#X text 465 -29 0=sine.... 1=square;
#X text -37 -267 The user controls an FM synth. Every interface controls
this same patch denoted as "audioGuts.pd" \, but in different ways.
They can alter some or all of the following parameters: Volume carrier
frequency (pitch center) \, modulation frequency (pitch wobble speed)
\, modulation amplitude (pitch wobble amount) \, band pass filter cutoff
(filter range) \, transition between sine and square wave (buzzy-ness)
\, and sound on/off toggle;
#X obj 643 -243 r fmModulatorAmplitude;
#X text 642 -267 Modulation Amplitude;
#X text 653 212 comment;
#X obj 655 329 *~;
#X obj 868 143 r mute;
#X floatatom 760 306 5 0 0 0 - - -;
#X obj 716 207 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 760 273 -;
#X floatatom 758 242 5 0 0 0 - - -;
#X floatatom 885 257 5 0 0 0 - - -;
#X obj 757 197 loadbang;
#X msg 757 218 1;
#N canvas 709 38 874 663 fftSpectrum 0;
#X obj 85 39 inlet~;
#X obj 106 144 rfft~;
#X obj 91 222 *~;
#X obj 133 221 *~;
#X obj 113 257 +~;
#X obj 107 80 *~;
#X obj 144 44 tabreceive~ \$0-hann;
#X obj 483 81 r window-size;
#X msg 483 135 set \$1 4;
#X text 541 140 'set' message to block;
#X text 544 157 allows variable size;
#X obj 323 160 r window-size;
#X floatatom 323 187 5 0 0 0 - - -;
#X floatatom 322 250 10 0 0 0 - - -;
#X obj 197 83 env~ 1024;
#X floatatom 197 106 5 0 0 0 - - -;
#X msg 500 358 resize \$1;
#X obj 494 242 r window-size;
#X floatatom 517 315 5 0 0 0 - - -;
#X text 490 424 clip the output that feeds spectrum array;
#X text 262 80 check for signal level;
#X text 549 303 resize spectrum GUI array based on framesize;
#X text 539 169 < ==== THIS is totally vital for working w/ FFTs;
#X text 267 393 refresh control;
#X obj 323 214 expr 20/pow($f1 \, 2);
#X obj 109 332 sqrt~;
#X obj 513 275 expr $f1/$f2 +1;
#X obj 660 242 r window-devisor;
#X floatatom 657 278 5 0 0 0 - - -;
#N canvas 553 22 727 603 hann-window 0;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$0-hann 4096 float 0;
#X coords 0 1 4095 0 300 100 1;
#X restore 359 433 graph;
#X obj 557 204 osc~;
#X obj 557 229 *~ -0.5;
#X obj 557 253 +~ 0.5;
#X obj 510 286 tabwrite~ \$0-hann;
#X obj 37 88 r window-size;
#X obj 32 392 /;
#X obj 112 251 samplerate~;
#X obj 32 470 s window-sec;
#X obj 108 320 swap;
#X obj 108 345 /;
#X obj 108 396 s window-hz;
#X obj 43 420 * 1000;
#X obj 43 447 s window-msec;
#X obj 38 115 t f b f;
#X msg 91 149 resize \$1;
#X obj 91 173 s \$0-hann;
#X obj 509 122 r window-hz;
#X msg 561 169 0;
#X obj 509 170 t f b;
#X text 15 8 calculate Hann window table (variable window size) and
constants window-hz (fundamental frequency of analysis) \, window-sec
and window-msec (analysis window size in seconds and msec).;
#X floatatom 529 146 5 0 0 0 - - -;
#X floatatom 144 279 5 0 0 0 - - -;
#X obj 108 372 * 4;
#X text 176 155 first resize Hann-aray;
#X text 200 256 then get local DSP rate;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 5 0 14 0;
#X connect 6 0 8 0;
#X connect 6 0 12 0;
#X connect 7 0 6 1;
#X connect 7 0 9 1;
#X connect 7 0 22 0;
#X connect 9 0 10 0;
#X connect 9 1 10 1;
#X connect 10 0 23 0;
#X connect 12 0 13 0;
#X connect 14 0 6 0;
#X connect 14 0 9 0;
#X connect 14 1 7 0;
#X connect 14 2 15 0;
#X connect 15 0 16 0;
#X connect 17 0 19 0;
#X connect 17 0 21 0;
#X connect 18 0 1 1;
#X connect 19 0 1 0;
#X connect 19 1 4 0;
#X connect 19 1 18 0;
#X connect 23 0 11 0;
#X restore 265 43 pd hann-window;
#X obj 483 167 block~;
#X obj 205 371 log~ 10;
#X msg 310 358 \; window-devisor 16;
#X obj 205 407 *~ 20;
#X obj 176 150 r window-size;
#X obj 132 182 /~ 1;
#X obj 82 181 /~ 1;
#X obj 207 441 tabwrite~ frequency_spectrum;
#X obj 113 396 r refresh;
#X connect 0 0 5 0;
#X connect 1 0 36 0;
#X connect 1 1 35 0;
#X connect 2 0 4 0;
#X connect 3 0 4 1;
#X connect 4 0 25 0;
#X connect 5 0 14 0;
#X connect 5 0 1 0;
#X connect 6 0 5 1;
#X connect 7 0 8 0;
#X connect 8 0 30 0;
#X connect 11 0 12 0;
#X connect 12 0 24 0;
#X connect 14 0 15 0;
#X connect 17 0 26 0;
#X connect 18 0 16 0;
#X connect 24 0 13 0;
#X connect 25 0 31 0;
#X connect 26 0 18 0;
#X connect 27 0 26 1;
#X connect 27 0 28 0;
#X connect 31 0 33 0;
#X connect 33 0 37 0;
#X connect 34 0 35 1;
#X connect 34 0 36 1;
#X connect 35 0 3 0;
#X connect 35 0 3 1;
#X connect 36 0 2 0;
#X connect 36 0 2 1;
#X connect 38 0 37 0;
#X restore 552 370 pd fftSpectrum;
#N canvas 0 22 1122 669 initializations 0;
#X obj 465 126 loadbang;
#X obj 463 172 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 464 207 t b b b b b b b;
#X msg 641 261 \; pitch 55 \; a1 50;
#X obj 541 492 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X floatatom 540 419 5 0 0 0 - - -;
#X obj 541 442 t b f;
#X obj 518 466 metro 150;
#X floatatom 832 333 5 0 0 0 - window-size -;
#X msg 871 148 512;
#X msg 870 188 1024;
#X msg 868 226 2048;
#X msg 862 264 4096;
#X obj 832 309 s window-size;
#X text 871 114 window size \,;
#X text 871 129 samples;
#X text 885 333 (check);
#X text 847 92 <- set buttons;
#X msg 541 398 100;
#X msg 501 418 1;
#X msg 468 580 \; pd dsp 1;
#X obj 599 123 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 601 180 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 600 156 metro 5000;
#X text 916 189 DEFAULT;
#X obj 581 337 t b b;
#X msg 624 440 \; window-size 4096;
#X msg 631 310 \; volume 75;
#X msg 628 372 \; window-devisor 10;
#X obj 515 514 s refresh;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 20 0;
#X connect 2 2 19 0;
#X connect 2 3 18 0;
#X connect 2 4 25 0;
#X connect 2 6 3 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 6 1 7 1;
#X connect 7 0 4 0;
#X connect 7 0 29 0;
#X connect 9 0 13 0;
#X connect 10 0 13 0;
#X connect 11 0 13 0;
#X connect 12 0 13 0;
#X connect 18 0 5 0;
#X connect 19 0 7 0;
#X connect 21 0 23 0;
#X connect 22 0 1 0;
#X connect 23 0 22 0;
#X connect 25 0 26 0;
#X connect 25 1 28 0;
#X restore 357 346 pd initializations;
#X connect 0 0 2 0;
#X connect 1 0 3 0;
#X connect 2 0 7 0;
#X connect 3 0 2 1;
#X connect 4 0 5 0;
#X connect 4 0 1 0;
#X connect 7 0 24 0;
#X connect 8 0 6 0;
#X connect 8 0 3 1;
#X connect 9 0 25 0;
#X connect 10 0 40 0;
#X connect 12 0 4 0;
#X connect 12 0 16 0;
#X connect 14 0 0 0;
#X connect 14 0 19 0;
#X connect 15 0 22 0;
#X connect 15 0 24 1;
#X connect 17 0 7 1;
#X connect 17 0 18 0;
#X connect 24 0 10 0;
#X connect 25 0 10 1;
#X connect 25 0 21 0;
#X connect 26 0 27 0;
#X connect 26 0 28 0;
#X connect 27 0 25 1;
#X connect 28 0 25 0;
#X connect 37 0 8 0;
#X connect 37 0 20 0;
#X connect 40 0 11 0;
#X connect 40 0 49 0;
#X connect 41 0 44 1;
#X connect 41 0 46 0;
#X connect 41 0 43 0;
#X connect 42 0 40 1;
#X connect 43 0 40 0;
#X connect 43 0 44 0;
#X connect 44 0 42 0;
#X connect 45 0 44 0;
#X connect 47 0 48 0;
#X connect 48 0 45 0;
